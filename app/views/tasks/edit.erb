<section id="new-task" class="col-4 offset-4">
    <div class="card task-card">
        <header>
            <span>Edit Task</span>
        </header>
        
        <form action="/tasks/<%= @task.id %>" method="post" id="task-form" data-disable-with="saving...">
            <div class="field">
                <textarea class="control-form" name="content"
                    placeholder="What is your task about?"><%= @task.content %></textarea>
            </div>
            
            <div class="field">
                <input type="text" class="control-form" id="priority-input" name="priority"
                    value="<%= @task.priority %>" onfocus="$('#priority-selection').show();"
                    autocomplete="off" placeholder="Select a priority for your task">
            </div>
            
            <div class="field">
                <div id="priority-selection">
                    <div id="p-1">1</div>
                    <div id="p-2">2</div>
                    <div id="p-3">3</div>
                </div>
            </div>
            
            <div class="actions">
                <button type="submit" class="btn task-btn btn-block">
                    Update Task
                </button>
            </div>
        </form>
    </div>
</section>

<script type="text/javascript">
    $('#priority-selection > div').on('click', function() {
        value = $(this).text();
        document.querySelector('#priority-input').value = value;
        $('#priority-selection').hide();
    });
</script>